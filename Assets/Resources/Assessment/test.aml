
load slide "pendulum_task_1.xml" into slide_1

pattern init:
	match action enter
	query objects \
		where class == [Display] \
		into board
	display slide_1 on board
	feedback success "Willkommen beim Experiment 'Fadenpendel'."


pattern Measurement:

	# Bind contextual objects
	query objects where class == [StopWatch] into sw
	
	feedback hint "Objects found and bound"
	
	@snapshot s
	match action start on sw into _, sw:
		query objects \
			where class == [Pendulum] into p
			
		feedback hint "Pendulum object found and bound"
		
	set cycles = 0
	match group {0, inf}:
		match property changed \
			[direction] on p
		set cycles = cycles + 1
	
	match action stop on sw
	
	if diff_p(s:p.elongation, p.elongation) <= 0.1:
		feedback success "Gut gemacht! Deine Messung liegt gut in der Toleranz."
	else:
		feedback warning "Du hast keine vollständigen Perioden gemessen!"


pattern FrequencyCalculation:
	match action submit
	feedback success "Danke für das Einreichen der Antwort"


	